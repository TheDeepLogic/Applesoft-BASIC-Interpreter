10 REM Comprehensive POKE/PEEK test
20 HOME
30 PRINT "POKE/PEEK TESTS"
40 PRINT "==============="
50 PRINT ""

100 REM Test 1: Basic memory POKE/PEEK
110 PRINT "TEST 1: BASIC POKE/PEEK"
120 POKE 768, 42
130 X = PEEK(768)
140 PRINT "POKE 768,42; PEEK(768)="; X
150 IF X = 42 THEN PRINT "PASSED"
155 IF X <> 42 THEN PRINT "FAILED!"
160 PRINT ""

200 REM Test 2: Cursor position POKE/PEEK
210 PRINT "TEST 2: CURSOR POSITION"
220 POKE 36, 20
230 POKE 37, 12
240 X = PEEK(36)
250 Y = PEEK(37)
260 PRINT "POKE 36,20; POKE 37,12"
270 PRINT "PEEK(36)="; X; " PEEK(37)="; Y
280 IF X = 20 THEN PRINT "PASSED"
285 IF X <> 20 THEN PRINT "FAILED!"
290 PRINT ""

400 REM Test 3: LOMEM/HIMEM
410 PRINT "TEST 3: LOMEM/HIMEM"
420 L = PEEK(103) + PEEK(104) * 256
430 H = PEEK(115) + PEEK(116) * 256
440 PRINT "LOMEM="; L; " HIMEM="; H
450 PRINT "PASSED"
460 PRINT ""

500 REM Test 4: Text attributes (POKE 50)
510 PRINT "TEST 4: TEXT ATTRIBUTES"
520 POKE 50, 255
530 PRINT "POKE 50,255 (NORMAL)"
540 POKE 50, 63
550 PRINT "POKE 50,63 (INVERSE)"
560 POKE 50, 127
570 PRINT "POKE 50,127 (FLASH)"
580 POKE 50, 255
590 PRINT "POKE 50,255 (NORMAL)"
600 PRINT "PASSED"
610 PRINT ""

700 REM Test 5: 2-byte address reading
710 PRINT "TEST 5: 2-BYTE ADDRESS"
720 POKE 100, 255
730 POKE 101, 1
740 X = PEEK(100) + PEEK(101) * 256
750 PRINT "2-BYTE READ: "; X; " (should be 511)"
760 IF X = 511 THEN PRINT "PASSED"
765 IF X <> 511 THEN PRINT "FAILED!"
770 PRINT ""

800 REM Test 6: Negative addresses
810 PRINT "TEST 6: NEGATIVE ADDRESSES"
820 REM Test speaker click at -16336
830 POKE -16336, 0
840 PRINT "POKE -16336,0 (SPEAKER): OK"
850 PRINT "PASSED"
860 PRINT ""

900 REM Test 7: Multiple byte range
910 PRINT "TEST 7: BYTE RANGE CHECK"
920 POKE 200, 256
930 X = PEEK(200)
940 PRINT "POKE 200,256; PEEK(200)="; X; " (should wrap to 0)"
950 IF X = 0 THEN PRINT "PASSED"
955 IF X <> 0 THEN PRINT "FAILED!"
960 PRINT ""

1000 PRINT "ALL TESTS COMPLETED"
1010 END

